#!/usr/bin/env node

// Import the sys library
var sys     = require('sys'),
  grunt     = require('grunt'),
  findup    = require('findup-sync'),
  bootstrap = require('../lib/bootstrap'),
  open      = require('open'),
  _         = grunt.util._;

require(findup('Gruntfile.js'))(grunt, true);
var translation = './translations';
var options = _.defaults(grunt.config.get('translate').dist.options, {
  config: './translation',
  requireJS: true,
  translationFunctionName: 'gt'
});
options.output = options.config + '/output';
options.deleteLog = options.config + '/delete.log';

// Import the optparse library.
var optparse = require('optparse');

// Switches
var switches = [
    ['-h', '--help', 'Shows help sections']
];

var arguments = process.argv.splice(2);
switch(arguments[0]) {
  case 'interface':
    var server = require('../app/server');
    server.server();
    // open('http://localhost:3000/translations');
    break;
  case 'update':
  case 'compile':
  case 'log':
  case 'search':
    bootstrap[arguments[0]](options);
    break;
  default:

    break;
}

